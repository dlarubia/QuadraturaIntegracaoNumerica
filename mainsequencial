/*** Trabalho 1 - Versão Principal programa sequencial
Autores: Daniel La Rubia e Paula Macedo
Data: 15/10/2019
Descrição: Implementação da versão sequencial do programa que utiliza o método de integração numérica retangular(ponto médio). Calcula o resultado da integral para um determinado conjunto de casos e retorna o tempo de execução do programa em milissegundos.
 ***/

#include <stdio.h>
#include <stdlib.h>
#include "timer.h"
#include "funcoes.c"
#include "quadraturaAlgorithm.c"


// Variável para armazenar o tempo de execução

int main (int argc, char** argv){

// O usuário deverá informar na linha de comando o intervalo [a,b] e o erro máximo e
// Se não for passado o número correto de parâmetros, o programa se encerra
	if(argc<4) {
		puts("VERSÃO SEQUENCIAL:Entre com intervalo [a, b] e o erro máximo tolerado na seguinte formatação : ./nome_programa a b e");
		//puts("VERSÃO PARALELA:Entre com intervalo [a, b],  o erro máximo tolerado e o número de threads na seguinte formatação : ./nome_programa a b e n");
		return 1;
	}
// Variáveis do programa. Converte a string passada pela linha de comando para float
	float intervaloA = atof(argv[1]);
	float intervaloB = atof(argv[2]);
	float erroMax = atof(argv[3]);
	//int numerothreads = atoi(argv[4]);

//Calcula e imprime o resultado da integral pelo método do ponto médio
	printf("VALOR INTEGRAL a(x): %lf\n", integralPontoMedio(a, intervaloA, intervaloB, erroMax));
	printf("VALOR INTEGRAL b(x): %lf\n", integralPontoMedio(b, intervaloA, intervaloB, erroMax));
	printf("VALOR INTEGRAL c(x): %lf\n", integralPontoMedio(c, intervaloA, intervaloB, erroMax));
	printf("VALOR INTEGRAL d(x): %lf\n", integralPontoMedio(d, intervaloA, intervaloB, erroMax));
	printf("VALOR INTEGRAL e(x): %lf\n", integralPontoMedio(e, intervaloA, intervaloB, erroMax));
	printf("VALOR INTEGRAL f(x): %lf\n", integralPontoMedio(f, intervaloA, intervaloB, erroMax));
	printf("VALOR INTEGRAL g(x): %lf\n", integralPontoMedio(g, intervaloA, intervaloB, erroMax));


	return 0;

}
